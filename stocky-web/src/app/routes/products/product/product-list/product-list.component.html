<page-header [action]="action" [breadcrumb]="breadcrumb" [content]="content" title="Products">
    <ng-template #breadcrumb>
        <app-breadcrumbs [crumbs]="crumbs"></app-breadcrumbs>
    </ng-template>

    <ng-template #action>
        <app-expand-collapse-button [(open)]="isOpenHeader"></app-expand-collapse-button>
    </ng-template>

    <ng-template #content>

        <form *ngIf="isOpenHeader" autocomplete="off" class="ph-main" nz-form>

            <div [nzGutter]="[12, 24]" nz-row>

                <div nz-col nzSpan="24">
                    <div [nzGutter]="[12, 16]" nz-row>
                        <div [nzLg]="8" [nzSpan]="8" [nzXs]="24" nz-col>
                            <app-product-category-search [(selected)]="searchPayload.category"></app-product-category-search>
                        </div>

                        <div [nzLg]="8" [nzSpan]="8" [nzXs]="24" nz-col>
                            <nz-form-item>
                                <nz-form-label>Name</nz-form-label>
                                <input [(ngModel)]="searchPayload.productName" name="productName" nz-input placeholder="Enter product name"
                                       type="text"/>
                            </nz-form-item>
                        </div>

                        <div [nzLg]="8" [nzSpan]="8" [nzXs]="24" nz-col>
                            <nz-form-item>
                                <nz-form-label>Brand</nz-form-label>
                                <input [(ngModel)]="searchPayload.brandName" name="productBrand" nz-input placeholder="Enter product brand"
                                       type="text"/>
                            </nz-form-item>
                        </div>
                    </div>

                    <div [nzGutter]="[12, 16]" nz-row>
                        <div [nzLg]="8" [nzSpan]="8" [nzXs]="24" nz-col>
                            <nz-form-item>
                                <nz-form-label>Tax</nz-form-label>
                                <app-product-tax-dropdown [(value)]="searchPayload.taxes" class="wd-100p"></app-product-tax-dropdown>
                            </nz-form-item>
                        </div>

                        <div [nzLg]="8" [nzSpan]="8" [nzXs]="24" nz-col>
                            <nz-form-item>
                                <nz-form-label>Sku</nz-form-label>
                                <input [(ngModel)]="searchPayload.sku" name="productSku" nz-input placeholder="Enter product SKU" type="text"/>
                            </nz-form-item>
                        </div>

                        <div [nzLg]="8" [nzSpan]="8" [nzXs]="24" nz-col>
                            <nz-form-item>
                                <div class="flex flex-column">
                                    <nz-form-label>Is Service</nz-form-label>
                                    <app-switch-toggle [(value)]="searchPayload.isService"
                                                       [props]="{showLabel: false, trueText: 'YES', falseText: 'NO'}"></app-switch-toggle>
                                </div>
                            </nz-form-item>
                        </div>
                    </div>
                </div>

            </div>

            <div nz-col nzSpan="24">

                <div nz-row nzJustify="space-between">
                    <div [nzLg]="12" [nzSpan]="12" [nzXs]="10" nz-col>
                        <app-search-reset-button
                            [props]="{
                                onSearchAction: onSearchProducts,
                                isLoadingSearchResult: isLoading,
                                onResetSearchPayload: onResetSearchForm,
                                onCancelAction: onCancelHandler
                                }"
                        ></app-search-reset-button>
                    </div>

                    <div [nzLg]="12" [nzSpan]="12" [nzXs]="10" class="text-align-end" nz-col>
                        <nz-space nzSize="small">
                            <app-button *nzSpaceItem [props]="{title: 'Add', icon: 'plus', handler: handleCreateProduct}"></app-button>
                            <app-export-upload-button *nzSpaceItem [props]="{}"></app-export-upload-button>
                        </nz-space>
                    </div>
                </div>
            </div>

        </form>

    </ng-template>

</page-header>

<nz-card>
    <div class="wd-100p">
        <nz-table>
            <thead>
            <tr class="text-uppercase">
                <th></th>
                <th>Category</th>
                <th>Product Name</th>
                <th>Brand Name</th>
                <th>SKU</th>
                <th>Type</th>
                <th>Date Created</th>
            </tr>
            </thead>
        </nz-table>
    </div>
</nz-card>
